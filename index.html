<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DeD_u1ya | Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap" rel="stylesheet">
    <script>
        window.isTouch = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);
        if (!window.isTouch) document.documentElement.classList.add('desktop-device');
    </script>
    <style>
        :root {
            --bg-dark: #0e0e10;
            --twitch-purple: #9146ff;
            --white: #ffffff;
            --glass: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.15);
        }

        .desktop-device, .desktop-device *, .desktop-device input, .desktop-device button, .desktop-device a { 
            cursor: none !important; 
        }

        body {
            margin: 0; font-family: 'Outfit', sans-serif;
            background-color: var(--bg-dark); color: var(--white);
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh; overflow: hidden;
            background: radial-gradient(circle at 50% 0%, #1f1635 0%, var(--bg-dark) 100%);
        }

        #content-wrapper { width: 100%; display: flex; flex-direction: column; align-items: center; transition: filter 0.8s ease; filter: blur(20px); }

        #welcome-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center;
            z-index: 30000; backdrop-filter: blur(25px); transition: opacity 0.6s;
        }
        .welcome-box { background: rgba(255, 255, 255, 0.05); border: 1px solid var(--glass-border); padding: 60px 40px; border-radius: 40px; text-align: center; max-width: 450px; width: 85%; }
        .ok-btn { background: var(--twitch-purple); border: none; color: white; padding: 18px 60px; border-radius: 20px; font-weight: 900; font-size: 18px; }

        #cursor-glow, #cursor-dot { display: none; }
        .desktop-device #cursor-glow { display: block; position: fixed; width: 300px; height: 300px; background: radial-gradient(circle, rgba(145, 70, 255, 0.12) 0%, transparent 70%); border-radius: 50%; pointer-events: none; z-index: 30001; transform: translate(-50%, -50%); }
        .desktop-device #cursor-dot { display: block; position: fixed; width: 6px; height: 6px; background: white; border-radius: 50%; pointer-events: none; z-index: 30002; transform: translate(-50%, -50%); box-shadow: 0 0 15px var(--twitch-purple); }
        .trail { position: fixed; width: 4px; height: 4px; background: var(--twitch-purple); border-radius: 50%; pointer-events: none; z-index: 30000; opacity: 0.4; }

        main { width: 100%; max-width: 420px; padding: 60px 20px; text-align: center; z-index: 10; }
        .avatar-container { width: 115px; height: 115px; margin: 0 auto 20px; border-radius: 50%; border: 2px solid var(--twitch-purple); padding: 5px; }
        .avatar-img { width: 100%; height: 100%; border-radius: 50%; background: url('ava.jpg') center/cover; }
        .links { display: flex; flex-direction: column; gap: 12px; margin-top: 25px; }
        .card { display: flex; align-items: center; padding: 16px 20px; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 14px; text-decoration: none; color: white; font-weight: 700; transition: 0.2s; transform-style: preserve-3d; }
        .card:hover { border-color: var(--twitch-purple); background: rgba(255, 255, 255, 0.05); }
        .card img, .card svg { width: 24px; height: 24px; margin-right: 15px; }

        @media (min-width: 1024px) {
            main { max-width: 500px; }
            .card { padding: 22px 28px; font-size: 18px; }
        }

        #music-player {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.07); backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border); border-radius: 50px;
            padding: 12px 25px; display: flex; align-items: center; gap: 12px;
            z-index: 25000; box-shadow: 0 15px 35px rgba(0,0,0,0.4);
        }

        .visualizer { display: flex; align-items: flex-end; gap: 3px; height: 15px; width: 18px; }
        .vis-bar { width: 3px; background: var(--twitch-purple); border-radius: 2px; height: 30%; transition: 0.2s; }
        .playing .vis-bar { animation: pulse 0.6s infinite alternate; }
        .playing .vis-bar:nth-child(2) { animation-delay: 0.2s; }
        .playing .vis-bar:nth-child(3) { animation-delay: 0.4s; }
        @keyframes pulse { from { height: 30%; } to { height: 100%; } }

        .p-btn { background: none; border: none; color: white; display: flex; align-items: center; padding: 5px; opacity: 0.8; transition: 0.2s; }
        .p-btn:hover { opacity: 1; transform: scale(1.1); }
        .p-btn svg { width: 20px; height: 20px; fill: currentColor; }

        #playPauseBtn { background: var(--twitch-purple); border-radius: 50%; padding: 10px; opacity: 1; }
        #playPauseBtn svg { width: 22px; height: 22px; }

        input[type=range] { width: 70px; accent-color: var(--twitch-purple); }

        #settings-menu {
            display: none; position: absolute; bottom: 75px; right: 0; 
            background: rgba(15, 15, 15, 0.98); border: 1px solid var(--glass-border);
            padding: 18px; border-radius: 20px; width: 200px; backdrop-filter: blur(15px);
        }
        .sett-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; font-size: 14px; }

        #snow-canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 5; }
        .particle { position: fixed; background: var(--twitch-purple); border-radius: 50%; pointer-events: none; z-index: 30003; }
    </style>
</head>
<body>

    <canvas id="snow-canvas"></canvas>
    <div id="cursor-glow"></div>
    <div id="cursor-dot"></div>

    <div id="welcome-overlay">
        <div class="welcome-box">
            <h2>Привет!</h2>
            <p>Добро пожаловать в мой Hub.</p>
            <button class="ok-btn" id="startBtn">ОК</button>
        </div>
    </div>

    <div id="content-wrapper">
        <main>
            <div class="avatar-container"><div class="avatar-img"></div></div>
            <h1>DeD_u1ya</h1>
            <p style="color:#adadb8; letter-spacing: 3px; font-size: 10px; font-weight: 700;">OFFICIAL HUB</p>
            
            <div class="links">
                <a href="https://t.me/DeD_u1ya" target="_blank" class="card"><img src="tg.png"> Telegram</a>
                <a href="https://steamcommunity.com/id/_D_I_C_H_/" target="_blank" class="card"><img src="Без названия (1).png"> Steam</a>
                <a href="https://www.tiktok.com/@dedu1ya1" target="_blank" class="card">
                    <svg style="fill:white" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.17-2.81-.74-3.94-1.67-.49-.42-.94-.87-1.33-1.38v7.41c.01 2.23-.74 4.54-2.4 6.06-1.8 1.7-4.4 2.15-6.68 1.4-2.73-.85-4.6-3.7-4.2-6.53.28-2.4 2.1-4.52 4.48-5.11.83-.22 1.7-.26 2.54-.15v4.1c-.88-.25-1.85-.08-2.55.51-.77.62-1.08 1.66-.89 2.62.2 1.05 1.13 1.88 2.19 2.03.95.14 2-.15 2.59-.92.36-.45.56-1.02.55-1.6V.02z"/></svg> TikTok
                </a>
                <a href="https://www.donationalerts.com/r/ded_u1ya" target="_blank" class="card">
                    <svg style="fill:#ffa500" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg> DonationAlerts
                </a>
                <a href="https://www.youtube.com/@DeD_u1ya" target="_blank" class="card"><img src="yt.png"> YouTube</a>
            </div>
        </main>

        <div id="music-player">
            <div class="visualizer" id="viz">
                <div class="vis-bar"></div><div class="vis-bar"></div><div class="vis-bar"></div>
            </div>
            
            <button class="p-btn" id="prevBtn"><svg viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg></button>
            <button class="p-btn" id="playPauseBtn">
                <svg id="playPauseIcon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
            </button>
            <button class="p-btn" id="nextBtn"><svg viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg></button>
            
            <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.23">
            
            <button class="p-btn" id="settBtn">
                <svg viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
            </button>

            <div id="settings-menu">
                <div class="sett-item"><span>Снег</span><input type="checkbox" id="nyToggle" checked></div>
                <div class="sett-item"><span>Shuffle (Микс)</span><input type="checkbox" id="shuffleToggle"></div>
            </div>
        </div>
    </div>

    <audio id="bgMusic"></audio>

    <script>
        const bgMusic = document.getElementById('bgMusic');
        const tracks = ['1.mp3', '2.mp3', '3.mp3', '4.mp3', '5.mp3', '6.mp3', '7.mp3'];
        let currentTrack = 0;
        let isShuffle = false;

        const playPauseBtn = document.getElementById('playPauseBtn');
        const playPauseIcon = document.getElementById('playPauseIcon').querySelector('path');
        const viz = document.getElementById('viz');

        function loadTrack(idx) {
            bgMusic.src = tracks[idx];
            bgMusic.load();
        }

        function syncUI() {
            if (bgMusic.paused) {
                playPauseIcon.setAttribute('d', 'M8 5v14l11-7z');
                viz.classList.remove('playing');
            } else {
                playPauseIcon.setAttribute('d', 'M6 19h4V5H6v14zm8-14v14h4V5h-4z');
                viz.classList.add('playing');
            }
        }

        function nextTrack() {
            if (isShuffle) currentTrack = Math.floor(Math.random() * tracks.length);
            else currentTrack = (currentTrack + 1) % tracks.length;
            loadTrack(currentTrack);
            bgMusic.play().then(syncUI);
        }

        function prevTrack() {
            currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
            loadTrack(currentTrack);
            bgMusic.play().then(syncUI);
        }

        loadTrack(currentTrack);
        bgMusic.volume = 0.23;

        playPauseBtn.onclick = () => {
            if (bgMusic.paused) bgMusic.play().then(syncUI);
            else { bgMusic.pause(); syncUI(); }
        };

        document.getElementById('nextBtn').onclick = nextTrack;
        document.getElementById('prevBtn').onclick = prevTrack;
        document.getElementById('volumeSlider').oninput = (e) => bgMusic.volume = e.target.value;
        document.getElementById('shuffleToggle').onchange = (e) => isShuffle = e.target.checked;
        bgMusic.onended = nextTrack;

        if (!window.isTouch) {
            const glow = document.getElementById('cursor-glow'), dot = document.getElementById('cursor-dot');
            window.addEventListener('mousemove', (e) => {
                glow.style.left = dot.style.left = e.clientX + 'px';
                glow.style.top = dot.style.top = e.clientY + 'px';
                const t = document.createElement('div'); t.className = 'trail'; t.style.left = e.clientX+'px'; t.style.top = e.clientY+'px';
                document.body.appendChild(t); setTimeout(() => { t.style.opacity = '0'; setTimeout(()=>t.remove(),200); }, 100);
            });
            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = (e.clientX - rect.left - rect.width/2) / 45;
                    const y = (e.clientY - rect.top - rect.height/2) / 30;
                    card.style.transform = `perspective(1000px) rotateX(${-y}deg) rotateY(${x}deg) scale(1.02)`;
                });
                card.addEventListener('mouseleave', () => card.style.transform = 'none');
            });
        }

        document.getElementById('startBtn').onclick = () => {
            document.getElementById('welcome-overlay').style.opacity = '0';
            setTimeout(() => { 
                document.getElementById('welcome-overlay').style.display = 'none'; 
                document.getElementById('content-wrapper').style.filter = 'none'; 
            }, 600);
            bgMusic.play().then(syncUI);
        };

        const canvas = document.getElementById('snow-canvas'), ctx = canvas.getContext('2d'), nyT = document.getElementById('nyToggle');
        let flakes = [];
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.onresize = resize; resize();
        for(let i=0; i<120; i++) flakes.push({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*2.5+0.5, s: Math.random()*0.8+0.3, o: Math.random()*0.4+0.2 });
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            if(nyT.checked) {
                for(let f of flakes) {
                    ctx.fillStyle = `rgba(255, 255, 255, ${f.o})`; ctx.beginPath(); ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2); ctx.fill();
                    f.y += f.s; f.x += Math.sin(f.y / 40) * 0.4;
                    if(f.y > canvas.height) f.y = -10;
                }
            }
            requestAnimationFrame(draw);
        }
        draw();
        document.getElementById('settBtn').onclick = (e) => { e.stopPropagation(); const m = document.getElementById('settings-menu'); m.style.display = m.style.display === 'block' ? 'none' : 'block'; };
        window.onclick = () => document.getElementById('settings-menu').style.display = 'none';
    </script>
</body>
</html>
